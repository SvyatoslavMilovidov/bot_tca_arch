# ๐ค Echo Bot - ะจะฐะฑะปะพะฝ Telegram ะฑะพัะฐ

ะะธะฝะธะผะฐะปัะฝัะน ััะพ-ะฑะพั, ะฟะพัััะพะตะฝะฝัะน ะฟะพ ะผะพะดัะปัะฝะพะน ะฐััะธัะตะบัััะต. ะัะฟะพะปัะทัะนัะต ะบะฐะบ ะพัะฝะพะฒั ะดะปั ะฝะพะฒัั ะฟัะพะตะบัะพะฒ.

## ๐ ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
cd echo_bot/bot
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
# ะกะบะพะฟะธััะนัะต ะฟัะธะผะตั ะธ ะทะฐะฟะพะปะฝะธัะต
cp example.env .env
```

ะััะตะดะฐะบัะธััะนัะต `.env`:
```
BOT_TOKEN=ะฒะฐั_ัะพะบะตะฝ_ะพั_BotFather
```

### 3. ะะฐะฟััะบ ะฑะพัะฐ

```bash
python app.py
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
bot/
โโโ app.py                      # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ requirements.txt            # ะะฐะฒะธัะธะผะพััะธ
โโโ example.env                 # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โ
โโโ core/                       # ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐัััะพะนะบะธ
โ   โโโ config.py               # ะะฐัััะพะนะบะธ ะธะท env
โ   โโโ loader.py               # ะะฝะธัะธะฐะปะธะทะฐัะธั bot, dp
โ   โโโ vocab.py                # ะขะตะบััั ะธ ัะปะพะฒะฐัะธ
โ
โโโ node/                       # UI-ะบะพะผะฟะพะฝะตะฝัั (LEGO-ะบะธัะฟะธัะธะบะธ)
โ   โโโ control/                # ะขะตะณ: control
โ       โโโ trigger/            # ะะธะทัะฐะปัะฝัะต ะพะฟะตัะฐัะธะธ
โ       โโโ code/               # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ       โโโ answer/             # ะััะธัะพะฒะบะฐ ัะบัะฐะฝะพะฒ
โ
โโโ handler/                    # ะะธะดะถะตัั-ะพัะบะตัััะฐัะพัั
โ   โโโ include_router.py       # ะะพะดะบะปััะตะฝะธะต ัะพััะตัะพะฒ
โ   โโโ v1/user/
โ       โโโ router.py           # ะะพััะตัั ะฟะพ ัะตะณะฐะผ
โ       โโโ control/            # ะะธะดะถะตัั ัะตะณะฐ control
โ
โโโ callback/                   # ะะปะฐััั ะบะพะปะฑะตะบะพะฒ (ะฟัััะพ)
โโโ state/                      # ะกะพััะพัะฝะธั FSM (ะฟัััะพ)
โโโ service/                    # ะะธะทะฝะตั-ัะตัะฒะธัั (ะฟัััะพ)
โโโ data/                       # ะะตะดะธะฐ ะธ ะฑััะตัั
```

## ๐๏ธ ะััะธัะตะบัััะฐ

### ะะปััะตะฒะฐั ะบะพะฝัะตะฟัะธั: **ะะธะดะถะตั = ะัะบะตัััะฐัะพั ะบะพะผะฟะพะฝะตะฝัะพะฒ**

ะะธะดะถะตั ะฒ `handler/` ะฝะต ัะพะดะตัะถะธั ะปะพะณะธะบั ะฝะฐะฟััะผัั, ะฐ ัะพะฑะธัะฐะตั ะบะพะผะฟะพะฝะตะฝัั ะธะท `node/`:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        handler/echo_widget.py               โ
โ              (ะัะบะตัััะฐัะพั)                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  1. ะะผะฟะพััะธััะตั ะบะพะผะฟะพะฝะตะฝัั ะธะท node/         โ
โ  2. ะกะพะทะดะฐะตั ัะตะตััั Answer-ะพะฒ                โ
โ  3. ะัะทัะฒะฐะตั: Trigger โ Code โ Answer       โ
โ  4. ะะตะณะธัััะธััะตััั ะฒ ัะพััะตัะต                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ              โ              โ
    โโโโโโโโโโโ   โโโโโโโโโโโ   โโโโโโโโโโโ
    โ Trigger โ   โ  Code   โ   โ Answer  โ
    โ (node/) โ   โ (node/) โ   โ (node/) โ
    โโโโโโโโโโโ   โโโโโโโโโโโ   โโโโโโโโโโโ
```

### ะะพะผะฟะพะฝะตะฝัั node/

| ะะพะผะฟะพะฝะตะฝั | ะัะฒะตัััะฒะตะฝะฝะพััั |
|-----------|-----------------|
| **Trigger** | ะะธะทัะฐะปัะฝัะต ะพะฟะตัะฐัะธะธ: ัะฑัะพั FSM, ะธะทะฒะปะตัะตะฝะธะต ะดะฐะฝะฝัั |
| **Code** | ะะธะทะฝะตั-ะปะพะณะธะบะฐ: ัะตัะฒะธัั, ัะพััะธะฝะณ ะบ Answer |
| **Answer** | ะััะธัะพะฒะบะฐ UI: ัะตะบัั, ะบะปะฐะฒะธะฐัััั, ะผะตะดะธะฐ |

### ะกะธััะตะผะฐ ัะตะณะพะฒ

ะะพะผะฟะพะฝะตะฝัั ะณััะฟะฟะธัััััั ะฟะพ ััะฝะบัะธะพะฝะฐะปัะฝัะผ ะพะฑะปะฐัััะผ (ัะตะณะฐะผ):
- `control` - ัะฟัะฐะฒะปัััะธะต ะบะพะผะฐะฝะดั (/start, /help, ััะพ)
- `payment` - ะฟะปะฐัะตะถะธ (ะฟัะธะผะตั ะดะปั ัะฐััะธัะตะฝะธั)
- `vacancy` - ะฒะฐะบะฐะฝัะธะธ (ะฟัะธะผะตั ะดะปั ัะฐััะธัะตะฝะธั)

## ๐ ะคัะฝะบัะธะพะฝะฐะป ะฑะพัะฐ

| ะะพะผะฐะฝะดะฐ/ะะตะนััะฒะธะต | ะะฟะธัะฐะฝะธะต |
|------------------|----------|
| `/start` | ะัะธะฒะตัััะฒะตะฝะฝะพะต ัะพะพะฑัะตะฝะธะต |
| `/help` | ะกะฟัะฐะฒะบะฐ ะฟะพ ะฑะพัั |
| ะัะฑะพะน ัะตะบัั | ะญัะพ-ะพัะฒะตั |

## ๐ง ะะฐััะธัะตะฝะธะต

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ััะฝะบัะธะพะฝะฐะปะฐ

1. **ะะฟัะตะดะตะปะธัั ัะตะณ** (ะฝะฐะฟัะธะผะตั, `payment`)

2. **ะกะพะทะดะฐัั ะบะพะผะฟะพะฝะตะฝัั ะฒ node/**:
   ```
   node/payment/trigger/process_payment_trigger.py
   node/payment/code/process_payment_code.py
   node/payment/answer/payment_success_answer.py
   ```

3. **ะกะพะทะดะฐัั ะฒะธะดะถะตั ะฒ handler/**:
   ```
   handler/v1/user/payment/process_payment_widget.py
   ```

4. **ะกะพะทะดะฐัั ัะพััะพัะฝะธั** (ะตัะปะธ ะฝัะถะฝั):
   ```
   state/payment.py
   ```

5. **ะกะพะทะดะฐัั ะบะพะปะฑะตะบะธ** (ะตัะปะธ ะฝัะถะฝั):
   ```
   callback/payment.py
   ```

6. **ะะพะดะบะปััะธัั ัะพััะตั** ะฒ `handler/include_router.py`

### ะะพะฑะฐะฒะปะตะฝะธะต ัะตัะฒะธัะพะฒ

ะกะพะทะดะฐะนัะต ะฟะฐะบะตั ะฒ `service/`:
```
service/db/
โโโ __init__.py
โโโ user_service.py
```

## ๐ ะะพะบัะผะตะฝัะฐัะธั ะฐััะธัะตะบัััั

ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฒ `docs/`:
- `README.md` - ะพะฑะทะพั ะฐััะธัะตะบัััั
- `node.md` - ะบะพะผะฟะพะฝะตะฝัั UI
- `handler.md` - ะฒะธะดะถะตัั-ะพัะบะตัััะฐัะพัั
- `callback.md` - ะบะพะปะฑะตะบะธ
- `state.md` - ัะพััะพัะฝะธั FSM
- `service.md` - ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
- `core.md` - ะบะพะฝัะธะณััะฐัะธั
- `webhook.md` - ะฒะฝะตัะฝะธะต ะฒะตะฑััะบะธ

## ๐ ะะธัะตะฝะทะธั

MIT
